{"ast":null,"code":"\"use strict\";\n/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BrowserFetcher = void 0;\n\nconst os = __importStar(require(\"os\"));\n\nconst fs = __importStar(require(\"fs\"));\n\nconst path = __importStar(require(\"path\"));\n\nconst util = __importStar(require(\"util\"));\n\nconst childProcess = __importStar(require(\"child_process\"));\n\nconst https = __importStar(require(\"https\"));\n\nconst http = __importStar(require(\"http\"));\n\nconst extract_zip_1 = __importDefault(require(\"extract-zip\"));\n\nconst Debug_js_1 = require(\"../common/Debug.js\");\n\nconst util_1 = require(\"util\");\n\nconst rimraf_1 = __importDefault(require(\"rimraf\"));\n\nconst URL = __importStar(require(\"url\"));\n\nconst https_proxy_agent_1 = __importDefault(require(\"https-proxy-agent\"));\n\nconst proxy_from_env_1 = require(\"proxy-from-env\");\n\nconst assert_js_1 = require(\"../common/assert.js\");\n\nconst debugFetcher = (0, Debug_js_1.debug)('puppeteer:fetcher');\nconst downloadURLs = {\n  chrome: {\n    linux: '%s/chromium-browser-snapshots/Linux_x64/%d/%s.zip',\n    mac: '%s/chromium-browser-snapshots/Mac/%d/%s.zip',\n    win32: '%s/chromium-browser-snapshots/Win/%d/%s.zip',\n    win64: '%s/chromium-browser-snapshots/Win_x64/%d/%s.zip'\n  },\n  firefox: {\n    linux: '%s/firefox-%s.en-US.%s-x86_64.tar.bz2',\n    mac: '%s/firefox-%s.en-US.%s.dmg',\n    win32: '%s/firefox-%s.en-US.%s.zip',\n    win64: '%s/firefox-%s.en-US.%s.zip'\n  }\n};\nconst browserConfig = {\n  chrome: {\n    host: 'https://storage.googleapis.com',\n    destination: '.local-chromium'\n  },\n  firefox: {\n    host: 'https://archive.mozilla.org/pub/firefox/nightly/latest-mozilla-central',\n    destination: '.local-firefox'\n  }\n};\n\nfunction archiveName(product, platform, revision) {\n  if (product === 'chrome') {\n    if (platform === 'linux') return 'chrome-linux';\n    if (platform === 'mac') return 'chrome-mac';\n\n    if (platform === 'win32' || platform === 'win64') {\n      // Windows archive name changed at r591479.\n      return parseInt(revision, 10) > 591479 ? 'chrome-win' : 'chrome-win32';\n    }\n  } else if (product === 'firefox') {\n    return platform;\n  }\n}\n/**\n * @internal\n */\n\n\nfunction downloadURL(product, platform, host, revision) {\n  const url = util.format(downloadURLs[product][platform], host, revision, archiveName(product, platform, revision));\n  return url;\n}\n/**\n * @internal\n */\n\n\nfunction handleArm64() {\n  fs.stat('/usr/bin/chromium-browser', function (err, stats) {\n    if (stats === undefined) {\n      fs.stat('/usr/bin/chromium', function (err, stats) {\n        if (stats === undefined) {\n          console.error('The chromium binary is not available for arm64.' + '\\nIf you are on Ubuntu, you can install with: ' + '\\n\\n sudo apt install chromium\\n' + '\\n\\n sudo apt install chromium-browser\\n');\n          throw new Error();\n        }\n      });\n    }\n  });\n}\n\nconst readdirAsync = (0, util_1.promisify)(fs.readdir.bind(fs));\nconst mkdirAsync = (0, util_1.promisify)(fs.mkdir.bind(fs));\nconst unlinkAsync = (0, util_1.promisify)(fs.unlink.bind(fs));\nconst chmodAsync = (0, util_1.promisify)(fs.chmod.bind(fs));\n\nfunction existsAsync(filePath) {\n  return new Promise(resolve => {\n    fs.access(filePath, err => resolve(!err));\n  });\n}\n/**\n * BrowserFetcher can download and manage different versions of Chromium and Firefox.\n *\n * @remarks\n * BrowserFetcher operates on revision strings that specify a precise version of Chromium, e.g. `\"533271\"`. Revision strings can be obtained from {@link http://omahaproxy.appspot.com/ | omahaproxy.appspot.com}.\n * In the Firefox case, BrowserFetcher downloads Firefox Nightly and\n * operates on version numbers such as `\"75\"`.\n *\n * @example\n * An example of using BrowserFetcher to download a specific version of Chromium\n * and running Puppeteer against it:\n *\n * ```js\n * const browserFetcher = puppeteer.createBrowserFetcher();\n * const revisionInfo = await browserFetcher.download('533271');\n * const browser = await puppeteer.launch({executablePath: revisionInfo.executablePath})\n * ```\n *\n * **NOTE** BrowserFetcher is not designed to work concurrently with other\n * instances of BrowserFetcher that share the same downloads directory.\n *\n * @public\n */\n\n\nclass BrowserFetcher {\n  /**\n   * @internal\n   */\n  constructor(projectRoot) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this._product = (options.product || 'chrome').toLowerCase();\n    (0, assert_js_1.assert)(this._product === 'chrome' || this._product === 'firefox', `Unknown product: \"${options.product}\"`);\n    this._downloadsFolder = options.path || path.join(projectRoot, browserConfig[this._product].destination);\n    this._downloadHost = options.host || browserConfig[this._product].host;\n    this.setPlatform(options.platform);\n    (0, assert_js_1.assert)(downloadURLs[this._product][this._platform], 'Unsupported platform: ' + this._platform);\n  }\n\n  setPlatform(platformFromOptions) {\n    if (platformFromOptions) {\n      this._platform = platformFromOptions;\n      return;\n    }\n\n    const platform = os.platform();\n    if (platform === 'darwin') this._platform = 'mac';else if (platform === 'linux') this._platform = 'linux';else if (platform === 'win32') this._platform = os.arch() === 'x64' ? 'win64' : 'win32';else (0, assert_js_1.assert)(this._platform, 'Unsupported platform: ' + platform);\n  }\n  /**\n   * @returns Returns the current `Platform`, which is one of `mac`, `linux`,\n   * `win32` or `win64`.\n   */\n\n\n  platform() {\n    return this._platform;\n  }\n  /**\n   * @returns Returns the current `Product`, which is one of `chrome` or\n   * `firefox`.\n   */\n\n\n  product() {\n    return this._product;\n  }\n  /**\n   * @returns The download host being used.\n   */\n\n\n  host() {\n    return this._downloadHost;\n  }\n  /**\n   * Initiates a HEAD request to check if the revision is available.\n   * @remarks\n   * This method is affected by the current `product`.\n   * @param revision - The revision to check availability for.\n   * @returns A promise that resolves to `true` if the revision could be downloaded\n   * from the host.\n   */\n\n\n  canDownload(revision) {\n    const url = downloadURL(this._product, this._platform, this._downloadHost, revision);\n    return new Promise(resolve => {\n      const request = httpRequest(url, 'HEAD', response => {\n        resolve(response.statusCode === 200);\n      });\n      request.on('error', error => {\n        console.error(error);\n        resolve(false);\n      });\n    });\n  }\n  /**\n   * Initiates a GET request to download the revision from the host.\n   * @remarks\n   * This method is affected by the current `product`.\n   * @param revision - The revision to download.\n   * @param progressCallback - A function that will be called with two arguments:\n   * How many bytes have been downloaded and the total number of bytes of the download.\n   * @returns A promise with revision information when the revision is downloaded\n   * and extracted.\n   */\n\n\n  async download(revision) {\n    let progressCallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : () => {};\n    const url = downloadURL(this._product, this._platform, this._downloadHost, revision);\n    const fileName = url.split('/').pop();\n    const archivePath = path.join(this._downloadsFolder, fileName);\n\n    const outputPath = this._getFolderPath(revision);\n\n    if (await existsAsync(outputPath)) return this.revisionInfo(revision);\n    if (!(await existsAsync(this._downloadsFolder))) await mkdirAsync(this._downloadsFolder); // Use Intel x86 builds on Apple M1 until native macOS arm64\n    // Chromium builds are available.\n\n    if (os.platform() !== 'darwin' && os.arch() === 'arm64') {\n      handleArm64();\n      return;\n    }\n\n    try {\n      await downloadFile(url, archivePath, progressCallback);\n      await install(archivePath, outputPath);\n    } finally {\n      if (await existsAsync(archivePath)) await unlinkAsync(archivePath);\n    }\n\n    const revisionInfo = this.revisionInfo(revision);\n    if (revisionInfo) await chmodAsync(revisionInfo.executablePath, 0o755);\n    return revisionInfo;\n  }\n  /**\n   * @remarks\n   * This method is affected by the current `product`.\n   * @returns A promise with a list of all revision strings (for the current `product`)\n   * available locally on disk.\n   */\n\n\n  async localRevisions() {\n    if (!(await existsAsync(this._downloadsFolder))) return [];\n    const fileNames = await readdirAsync(this._downloadsFolder);\n    return fileNames.map(fileName => parseFolderPath(this._product, fileName)).filter(entry => entry && entry.platform === this._platform).map(entry => entry.revision);\n  }\n  /**\n   * @remarks\n   * This method is affected by the current `product`.\n   * @param revision - A revision to remove for the current `product`.\n   * @returns A promise that resolves when the revision has been removes or\n   * throws if the revision has not been downloaded.\n   */\n\n\n  async remove(revision) {\n    const folderPath = this._getFolderPath(revision);\n\n    (0, assert_js_1.assert)(await existsAsync(folderPath), `Failed to remove: revision ${revision} is not downloaded`);\n    await new Promise(fulfill => (0, rimraf_1.default)(folderPath, fulfill));\n  }\n  /**\n   * @param revision - The revision to get info for.\n   * @returns The revision info for the given revision.\n   */\n\n\n  revisionInfo(revision) {\n    const folderPath = this._getFolderPath(revision);\n\n    let executablePath = '';\n\n    if (this._product === 'chrome') {\n      if (this._platform === 'mac') executablePath = path.join(folderPath, archiveName(this._product, this._platform, revision), 'Chromium.app', 'Contents', 'MacOS', 'Chromium');else if (this._platform === 'linux') executablePath = path.join(folderPath, archiveName(this._product, this._platform, revision), 'chrome');else if (this._platform === 'win32' || this._platform === 'win64') executablePath = path.join(folderPath, archiveName(this._product, this._platform, revision), 'chrome.exe');else throw new Error('Unsupported platform: ' + this._platform);\n    } else if (this._product === 'firefox') {\n      if (this._platform === 'mac') executablePath = path.join(folderPath, 'Firefox Nightly.app', 'Contents', 'MacOS', 'firefox');else if (this._platform === 'linux') executablePath = path.join(folderPath, 'firefox', 'firefox');else if (this._platform === 'win32' || this._platform === 'win64') executablePath = path.join(folderPath, 'firefox', 'firefox.exe');else throw new Error('Unsupported platform: ' + this._platform);\n    } else throw new Error('Unsupported product: ' + this._product);\n\n    const url = downloadURL(this._product, this._platform, this._downloadHost, revision);\n    const local = fs.existsSync(folderPath);\n    debugFetcher({\n      revision,\n      executablePath,\n      folderPath,\n      local,\n      url,\n      product: this._product\n    });\n    return {\n      revision,\n      executablePath,\n      folderPath,\n      local,\n      url,\n      product: this._product\n    };\n  }\n  /**\n   * @internal\n   */\n\n\n  _getFolderPath(revision) {\n    return path.resolve(this._downloadsFolder, `${this._platform}-${revision}`);\n  }\n\n}\n\nexports.BrowserFetcher = BrowserFetcher;\n\nfunction parseFolderPath(product, folderPath) {\n  const name = path.basename(folderPath);\n  const splits = name.split('-');\n  if (splits.length !== 2) return null;\n  const [platform, revision] = splits;\n  if (!downloadURLs[product][platform]) return null;\n  return {\n    product,\n    platform,\n    revision\n  };\n}\n/**\n * @internal\n */\n\n\nfunction downloadFile(url, destinationPath, progressCallback) {\n  debugFetcher(`Downloading binary from ${url}`);\n  let fulfill, reject;\n  let downloadedBytes = 0;\n  let totalBytes = 0;\n  const promise = new Promise((x, y) => {\n    fulfill = x;\n    reject = y;\n  });\n  const request = httpRequest(url, 'GET', response => {\n    if (response.statusCode !== 200) {\n      const error = new Error(`Download failed: server returned code ${response.statusCode}. URL: ${url}`); // consume response data to free up memory\n\n      response.resume();\n      reject(error);\n      return;\n    }\n\n    const file = fs.createWriteStream(destinationPath);\n    file.on('finish', () => fulfill());\n    file.on('error', error => reject(error));\n    response.pipe(file);\n    totalBytes = parseInt(\n    /** @type {string} */\n    response.headers['content-length'], 10);\n    if (progressCallback) response.on('data', onData);\n  });\n  request.on('error', error => reject(error));\n  return promise;\n\n  function onData(chunk) {\n    downloadedBytes += chunk.length;\n    progressCallback(downloadedBytes, totalBytes);\n  }\n}\n\nfunction install(archivePath, folderPath) {\n  debugFetcher(`Installing ${archivePath} to ${folderPath}`);\n  if (archivePath.endsWith('.zip')) return (0, extract_zip_1.default)(archivePath, {\n    dir: folderPath\n  });else if (archivePath.endsWith('.tar.bz2')) return extractTar(archivePath, folderPath);else if (archivePath.endsWith('.dmg')) return mkdirAsync(folderPath).then(() => installDMG(archivePath, folderPath));else throw new Error(`Unsupported archive format: ${archivePath}`);\n}\n/**\n * @internal\n */\n\n\nfunction extractTar(tarPath, folderPath) {\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  const tar = require('tar-fs'); // eslint-disable-next-line @typescript-eslint/no-var-requires\n\n\n  const bzip = require('unbzip2-stream');\n\n  return new Promise((fulfill, reject) => {\n    const tarStream = tar.extract(folderPath);\n    tarStream.on('error', reject);\n    tarStream.on('finish', fulfill);\n    const readStream = fs.createReadStream(tarPath);\n    readStream.pipe(bzip()).pipe(tarStream);\n  });\n}\n/**\n * @internal\n */\n\n\nfunction installDMG(dmgPath, folderPath) {\n  let mountPath;\n\n  function mountAndCopy(fulfill, reject) {\n    const mountCommand = `hdiutil attach -nobrowse -noautoopen \"${dmgPath}\"`;\n    childProcess.exec(mountCommand, (err, stdout) => {\n      if (err) return reject(err);\n      const volumes = stdout.match(/\\/Volumes\\/(.*)/m);\n      if (!volumes) return reject(new Error(`Could not find volume path in ${stdout}`));\n      mountPath = volumes[0];\n      readdirAsync(mountPath).then(fileNames => {\n        const appName = fileNames.find(item => typeof item === 'string' && item.endsWith('.app'));\n        if (!appName) return reject(new Error(`Cannot find app in ${mountPath}`));\n        const copyPath = path.join(mountPath, appName);\n        debugFetcher(`Copying ${copyPath} to ${folderPath}`);\n        childProcess.exec(`cp -R \"${copyPath}\" \"${folderPath}\"`, err => {\n          if (err) reject(err);else fulfill();\n        });\n      }).catch(reject);\n    });\n  }\n\n  function unmount() {\n    if (!mountPath) return;\n    const unmountCommand = `hdiutil detach \"${mountPath}\" -quiet`;\n    debugFetcher(`Unmounting ${mountPath}`);\n    childProcess.exec(unmountCommand, err => {\n      if (err) console.error(`Error unmounting dmg: ${err}`);\n    });\n  }\n\n  return new Promise(mountAndCopy).catch(error => {\n    console.error(error);\n  }).finally(unmount);\n}\n\nfunction httpRequest(url, method, response) {\n  const urlParsed = URL.parse(url);\n  let options = { ...urlParsed,\n    method\n  };\n  const proxyURL = (0, proxy_from_env_1.getProxyForUrl)(url);\n\n  if (proxyURL) {\n    if (url.startsWith('http:')) {\n      const proxy = URL.parse(proxyURL);\n      options = {\n        path: options.href,\n        host: proxy.hostname,\n        port: proxy.port\n      };\n    } else {\n      const parsedProxyURL = URL.parse(proxyURL);\n      const proxyOptions = { ...parsedProxyURL,\n        secureProxy: parsedProxyURL.protocol === 'https:'\n      };\n      options.agent = (0, https_proxy_agent_1.default)(proxyOptions);\n      options.rejectUnauthorized = false;\n    }\n  }\n\n  const requestCallback = res => {\n    if (res.statusCode >= 300 && res.statusCode < 400 && res.headers.location) httpRequest(res.headers.location, method, response);else response(res);\n  };\n\n  const request = options.protocol === 'https:' ? https.request(options, requestCallback) : http.request(options, requestCallback);\n  request.end();\n  return request;\n}","map":{"version":3,"mappings":"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","names":["debugFetcher","downloadURLs","chrome","linux","mac","win32","win64","firefox","browserConfig","host","destination","archiveName","product","platform","revision","parseInt","downloadURL","url","util","format","handleArm64","fs","stat","err","stats","undefined","console","error","Error","readdirAsync","readdir","bind","mkdirAsync","mkdir","unlinkAsync","unlink","chmodAsync","chmod","existsAsync","filePath","Promise","resolve","access","BrowserFetcher","constructor","projectRoot","options","_product","toLowerCase","_downloadsFolder","path","join","_downloadHost","setPlatform","_platform","platformFromOptions","os","arch","canDownload","request","httpRequest","response","statusCode","on","download","progressCallback","fileName","split","pop","archivePath","outputPath","_getFolderPath","revisionInfo","downloadFile","install","executablePath","localRevisions","fileNames","map","parseFolderPath","filter","entry","remove","folderPath","fulfill","local","existsSync","exports","name","basename","splits","length","destinationPath","reject","downloadedBytes","totalBytes","promise","x","y","resume","file","createWriteStream","pipe","headers","onData","chunk","endsWith","dir","extractTar","then","installDMG","tarPath","tar","require","bzip","tarStream","extract","readStream","createReadStream","dmgPath","mountPath","mountAndCopy","mountCommand","childProcess","exec","stdout","volumes","match","appName","find","item","copyPath","catch","unmount","unmountCommand","finally","method","urlParsed","URL","parse","proxyURL","startsWith","proxy","href","hostname","port","parsedProxyURL","proxyOptions","secureProxy","protocol","agent","rejectUnauthorized","requestCallback","res","location","https","http","end"],"sources":["../../../../src/node/BrowserFetcher.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}