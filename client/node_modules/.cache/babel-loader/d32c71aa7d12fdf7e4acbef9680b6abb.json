{"ast":null,"code":"\"use strict\";\n/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Touchscreen = exports.Mouse = exports.Keyboard = void 0;\n\nconst assert_js_1 = require(\"./assert.js\");\n\nconst USKeyboardLayout_js_1 = require(\"./USKeyboardLayout.js\");\n/**\n * Keyboard provides an api for managing a virtual keyboard.\n * The high level api is {@link Keyboard.\"type\"},\n * which takes raw characters and generates proper keydown, keypress/input,\n * and keyup events on your page.\n *\n * @remarks\n * For finer control, you can use {@link Keyboard.down},\n * {@link Keyboard.up}, and {@link Keyboard.sendCharacter}\n * to manually fire events as if they were generated from a real keyboard.\n *\n * On MacOS, keyboard shortcuts like `⌘ A` -\\> Select All do not work.\n * See {@link https://github.com/puppeteer/puppeteer/issues/1313 | #1313}.\n *\n * @example\n * An example of holding down `Shift` in order to select and delete some text:\n * ```js\n * await page.keyboard.type('Hello World!');\n * await page.keyboard.press('ArrowLeft');\n *\n * await page.keyboard.down('Shift');\n * for (let i = 0; i < ' World'.length; i++)\n *   await page.keyboard.press('ArrowLeft');\n * await page.keyboard.up('Shift');\n *\n * await page.keyboard.press('Backspace');\n * // Result text will end up saying 'Hello!'\n * ```\n *\n * @example\n * An example of pressing `A`\n * ```js\n * await page.keyboard.down('Shift');\n * await page.keyboard.press('KeyA');\n * await page.keyboard.up('Shift');\n * ```\n *\n * @public\n */\n\n\nclass Keyboard {\n  /** @internal */\n  constructor(client) {\n    /** @internal */\n    this._modifiers = 0;\n    this._pressedKeys = new Set();\n    this._client = client;\n  }\n  /**\n   * Dispatches a `keydown` event.\n   *\n   * @remarks\n   * If `key` is a single character and no modifier keys besides `Shift`\n   * are being held down, a `keypress`/`input` event will also generated.\n   * The `text` option can be specified to force an input event to be generated.\n   * If `key` is a modifier key, `Shift`, `Meta`, `Control`, or `Alt`,\n   * subsequent key presses will be sent with that modifier active.\n   * To release the modifier key, use {@link Keyboard.up}.\n   *\n   * After the key is pressed once, subsequent calls to\n   * {@link Keyboard.down} will have\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/repeat | repeat}\n   * set to true. To release the key, use {@link Keyboard.up}.\n   *\n   * Modifier keys DO influence {@link Keyboard.down}.\n   * Holding down `Shift` will type the text in upper case.\n   *\n   * @param key - Name of key to press, such as `ArrowLeft`.\n   * See {@link KeyInput} for a list of all key names.\n   *\n   * @param options - An object of options. Accepts text which, if specified,\n   * generates an input event with this text.\n   */\n\n\n  async down(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      text: undefined\n    };\n\n    const description = this._keyDescriptionForString(key);\n\n    const autoRepeat = this._pressedKeys.has(description.code);\n\n    this._pressedKeys.add(description.code);\n\n    this._modifiers |= this._modifierBit(description.key);\n    const text = options.text === undefined ? description.text : options.text;\n    await this._client.send('Input.dispatchKeyEvent', {\n      type: text ? 'keyDown' : 'rawKeyDown',\n      modifiers: this._modifiers,\n      windowsVirtualKeyCode: description.keyCode,\n      code: description.code,\n      key: description.key,\n      text: text,\n      unmodifiedText: text,\n      autoRepeat,\n      location: description.location,\n      isKeypad: description.location === 3\n    });\n  }\n\n  _modifierBit(key) {\n    if (key === 'Alt') return 1;\n    if (key === 'Control') return 2;\n    if (key === 'Meta') return 4;\n    if (key === 'Shift') return 8;\n    return 0;\n  }\n\n  _keyDescriptionForString(keyString) {\n    const shift = this._modifiers & 8;\n    const description = {\n      key: '',\n      keyCode: 0,\n      code: '',\n      text: '',\n      location: 0\n    };\n    const definition = USKeyboardLayout_js_1.keyDefinitions[keyString];\n    (0, assert_js_1.assert)(definition, `Unknown key: \"${keyString}\"`);\n    if (definition.key) description.key = definition.key;\n    if (shift && definition.shiftKey) description.key = definition.shiftKey;\n    if (definition.keyCode) description.keyCode = definition.keyCode;\n    if (shift && definition.shiftKeyCode) description.keyCode = definition.shiftKeyCode;\n    if (definition.code) description.code = definition.code;\n    if (definition.location) description.location = definition.location;\n    if (description.key.length === 1) description.text = description.key;\n    if (definition.text) description.text = definition.text;\n    if (shift && definition.shiftText) description.text = definition.shiftText; // if any modifiers besides shift are pressed, no text should be sent\n\n    if (this._modifiers & ~8) description.text = '';\n    return description;\n  }\n  /**\n   * Dispatches a `keyup` event.\n   *\n   * @param key - Name of key to release, such as `ArrowLeft`.\n   * See {@link KeyInput | KeyInput}\n   * for a list of all key names.\n   */\n\n\n  async up(key) {\n    const description = this._keyDescriptionForString(key);\n\n    this._modifiers &= ~this._modifierBit(description.key);\n\n    this._pressedKeys.delete(description.code);\n\n    await this._client.send('Input.dispatchKeyEvent', {\n      type: 'keyUp',\n      modifiers: this._modifiers,\n      key: description.key,\n      windowsVirtualKeyCode: description.keyCode,\n      code: description.code,\n      location: description.location\n    });\n  }\n  /**\n   * Dispatches a `keypress` and `input` event.\n   * This does not send a `keydown` or `keyup` event.\n   *\n   * @remarks\n   * Modifier keys DO NOT effect {@link Keyboard.sendCharacter | Keyboard.sendCharacter}.\n   * Holding down `Shift` will not type the text in upper case.\n   *\n   * @example\n   * ```js\n   * page.keyboard.sendCharacter('嗨');\n   * ```\n   *\n   * @param char - Character to send into the page.\n   */\n\n\n  async sendCharacter(char) {\n    await this._client.send('Input.insertText', {\n      text: char\n    });\n  }\n\n  charIsKey(char) {\n    return !!USKeyboardLayout_js_1.keyDefinitions[char];\n  }\n  /**\n   * Sends a `keydown`, `keypress`/`input`,\n   * and `keyup` event for each character in the text.\n   *\n   * @remarks\n   * To press a special key, like `Control` or `ArrowDown`,\n   * use {@link Keyboard.press}.\n   *\n   * Modifier keys DO NOT effect `keyboard.type`.\n   * Holding down `Shift` will not type the text in upper case.\n   *\n   * @example\n   * ```js\n   * await page.keyboard.type('Hello'); // Types instantly\n   * await page.keyboard.type('World', {delay: 100}); // Types slower, like a user\n   * ```\n   *\n   * @param text - A text to type into a focused element.\n   * @param options - An object of options. Accepts delay which,\n   * if specified, is the time to wait between `keydown` and `keyup` in milliseconds.\n   * Defaults to 0.\n   */\n\n\n  async type(text) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const delay = options.delay || null;\n\n    for (const char of text) {\n      if (this.charIsKey(char)) {\n        await this.press(char, {\n          delay\n        });\n      } else {\n        if (delay) await new Promise(f => setTimeout(f, delay));\n        await this.sendCharacter(char);\n      }\n    }\n  }\n  /**\n   * Shortcut for {@link Keyboard.down}\n   * and {@link Keyboard.up}.\n   *\n   * @remarks\n   * If `key` is a single character and no modifier keys besides `Shift`\n   * are being held down, a `keypress`/`input` event will also generated.\n   * The `text` option can be specified to force an input event to be generated.\n   *\n   * Modifier keys DO effect {@link Keyboard.press}.\n   * Holding down `Shift` will type the text in upper case.\n   *\n   * @param key - Name of key to press, such as `ArrowLeft`.\n   * See {@link KeyInput} for a list of all key names.\n   *\n   * @param options - An object of options. Accepts text which, if specified,\n   * generates an input event with this text. Accepts delay which,\n   * if specified, is the time to wait between `keydown` and `keyup` in milliseconds.\n   * Defaults to 0.\n   */\n\n\n  async press(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const {\n      delay = null\n    } = options;\n    await this.down(key, options);\n    if (delay) await new Promise(f => setTimeout(f, options.delay));\n    await this.up(key);\n  }\n\n}\n\nexports.Keyboard = Keyboard;\n/**\n * The Mouse class operates in main-frame CSS pixels\n * relative to the top-left corner of the viewport.\n * @remarks\n * Every `page` object has its own Mouse, accessible with [`page.mouse`](#pagemouse).\n *\n * @example\n * ```js\n * // Using ‘page.mouse’ to trace a 100x100 square.\n * await page.mouse.move(0, 0);\n * await page.mouse.down();\n * await page.mouse.move(0, 100);\n * await page.mouse.move(100, 100);\n * await page.mouse.move(100, 0);\n * await page.mouse.move(0, 0);\n * await page.mouse.up();\n * ```\n *\n * **Note**: The mouse events trigger synthetic `MouseEvent`s.\n * This means that it does not fully replicate the functionality of what a normal user\n * would be able to do with their mouse.\n *\n * For example, dragging and selecting text is not possible using `page.mouse`.\n * Instead, you can use the {@link https://developer.mozilla.org/en-US/docs/Web/API/DocumentOrShadowRoot/getSelection | `DocumentOrShadowRoot.getSelection()`} functionality implemented in the platform.\n *\n * @example\n * For example, if you want to select all content between nodes:\n * ```js\n * await page.evaluate((from, to) => {\n *   const selection = from.getRootNode().getSelection();\n *   const range = document.createRange();\n *   range.setStartBefore(from);\n *   range.setEndAfter(to);\n *   selection.removeAllRanges();\n *   selection.addRange(range);\n * }, fromJSHandle, toJSHandle);\n * ```\n * If you then would want to copy-paste your selection, you can use the clipboard api:\n * ```js\n * // The clipboard api does not allow you to copy, unless the tab is focused.\n * await page.bringToFront();\n * await page.evaluate(() => {\n *   // Copy the selected content to the clipboard\n *   document.execCommand('copy');\n *   // Obtain the content of the clipboard as a string\n *   return navigator.clipboard.readText();\n * });\n * ```\n * **Note**: If you want access to the clipboard API,\n * you have to give it permission to do so:\n * ```js\n * await browser.defaultBrowserContext().overridePermissions(\n *   '<your origin>', ['clipboard-read', 'clipboard-write']\n * );\n * ```\n * @public\n */\n\nclass Mouse {\n  /**\n   * @internal\n   */\n  constructor(client, keyboard) {\n    this._x = 0;\n    this._y = 0;\n    this._button = 'none';\n    this._client = client;\n    this._keyboard = keyboard;\n  }\n  /**\n   * Dispatches a `mousemove` event.\n   * @param x - Horizontal position of the mouse.\n   * @param y - Vertical position of the mouse.\n   * @param options - Optional object. If specified, the `steps` property\n   * sends intermediate `mousemove` events when set to `1` (default).\n   */\n\n\n  async move(x, y) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const {\n      steps = 1\n    } = options;\n    const fromX = this._x,\n          fromY = this._y;\n    this._x = x;\n    this._y = y;\n\n    for (let i = 1; i <= steps; i++) {\n      await this._client.send('Input.dispatchMouseEvent', {\n        type: 'mouseMoved',\n        button: this._button,\n        x: fromX + (this._x - fromX) * (i / steps),\n        y: fromY + (this._y - fromY) * (i / steps),\n        modifiers: this._keyboard._modifiers\n      });\n    }\n  }\n  /**\n   * Shortcut for `mouse.move`, `mouse.down` and `mouse.up`.\n   * @param x - Horizontal position of the mouse.\n   * @param y - Vertical position of the mouse.\n   * @param options - Optional `MouseOptions`.\n   */\n\n\n  async click(x, y) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const {\n      delay = null\n    } = options;\n\n    if (delay !== null) {\n      await this.move(x, y);\n      await this.down(options);\n      await new Promise(f => setTimeout(f, delay));\n      await this.up(options);\n    } else {\n      await this.move(x, y);\n      await this.down(options);\n      await this.up(options);\n    }\n  }\n  /**\n   * Dispatches a `mousedown` event.\n   * @param options - Optional `MouseOptions`.\n   */\n\n\n  async down() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      button = 'left',\n      clickCount = 1\n    } = options;\n    this._button = button;\n    await this._client.send('Input.dispatchMouseEvent', {\n      type: 'mousePressed',\n      button,\n      x: this._x,\n      y: this._y,\n      modifiers: this._keyboard._modifiers,\n      clickCount\n    });\n  }\n  /**\n   * Dispatches a `mouseup` event.\n   * @param options - Optional `MouseOptions`.\n   */\n\n\n  async up() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      button = 'left',\n      clickCount = 1\n    } = options;\n    this._button = 'none';\n    await this._client.send('Input.dispatchMouseEvent', {\n      type: 'mouseReleased',\n      button,\n      x: this._x,\n      y: this._y,\n      modifiers: this._keyboard._modifiers,\n      clickCount\n    });\n  }\n  /**\n   * Dispatches a `mousewheel` event.\n   * @param options - Optional: `MouseWheelOptions`.\n   *\n   * @example\n   * An example of zooming into an element:\n   * ```js\n   * await page.goto('https://mdn.mozillademos.org/en-US/docs/Web/API/Element/wheel_event$samples/Scaling_an_element_via_the_wheel?revision=1587366');\n   *\n   * const elem = await page.$('div');\n   * const boundingBox = await elem.boundingBox();\n   * await page.mouse.move(\n   *   boundingBox.x + boundingBox.width / 2,\n   *   boundingBox.y + boundingBox.height / 2\n   * );\n   *\n   * await page.mouse.wheel({ deltaY: -100 })\n   * ```\n   */\n\n\n  async wheel() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      deltaX = 0,\n      deltaY = 0\n    } = options;\n    await this._client.send('Input.dispatchMouseEvent', {\n      type: 'mouseWheel',\n      x: this._x,\n      y: this._y,\n      deltaX,\n      deltaY,\n      modifiers: this._keyboard._modifiers,\n      pointerType: 'mouse'\n    });\n  }\n  /**\n   * Dispatches a `drag` event.\n   * @param start - starting point for drag\n   * @param target - point to drag to\n   */\n\n\n  async drag(start, target) {\n    const promise = new Promise(resolve => {\n      this._client.once('Input.dragIntercepted', event => resolve(event.data));\n    });\n    await this.move(start.x, start.y);\n    await this.down();\n    await this.move(target.x, target.y);\n    return promise;\n  }\n  /**\n   * Dispatches a `dragenter` event.\n   * @param target - point for emitting `dragenter` event\n   * @param data - drag data containing items and operations mask\n   */\n\n\n  async dragEnter(target, data) {\n    await this._client.send('Input.dispatchDragEvent', {\n      type: 'dragEnter',\n      x: target.x,\n      y: target.y,\n      modifiers: this._keyboard._modifiers,\n      data\n    });\n  }\n  /**\n   * Dispatches a `dragover` event.\n   * @param target - point for emitting `dragover` event\n   * @param data - drag data containing items and operations mask\n   */\n\n\n  async dragOver(target, data) {\n    await this._client.send('Input.dispatchDragEvent', {\n      type: 'dragOver',\n      x: target.x,\n      y: target.y,\n      modifiers: this._keyboard._modifiers,\n      data\n    });\n  }\n  /**\n   * Performs a dragenter, dragover, and drop in sequence.\n   * @param target - point to drop on\n   * @param data - drag data containing items and operations mask\n   */\n\n\n  async drop(target, data) {\n    await this._client.send('Input.dispatchDragEvent', {\n      type: 'drop',\n      x: target.x,\n      y: target.y,\n      modifiers: this._keyboard._modifiers,\n      data\n    });\n  }\n  /**\n   * Performs a drag, dragenter, dragover, and drop in sequence.\n   * @param target - point to drag from\n   * @param target - point to drop on\n   * @param options - An object of options. Accepts delay which,\n   * if specified, is the time to wait between `dragover` and `drop` in milliseconds.\n   * Defaults to 0.\n   */\n\n\n  async dragAndDrop(start, target) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const {\n      delay = null\n    } = options;\n    const data = await this.drag(start, target);\n    await this.dragEnter(target, data);\n    await this.dragOver(target, data);\n\n    if (delay) {\n      await new Promise(resolve => setTimeout(resolve, delay));\n    }\n\n    await this.drop(target, data);\n    await this.up();\n  }\n\n}\n\nexports.Mouse = Mouse;\n/**\n * The Touchscreen class exposes touchscreen events.\n * @public\n */\n\nclass Touchscreen {\n  /**\n   * @internal\n   */\n  constructor(client, keyboard) {\n    this._client = client;\n    this._keyboard = keyboard;\n  }\n  /**\n   * Dispatches a `touchstart` and `touchend` event.\n   * @param x - Horizontal position of the tap.\n   * @param y - Vertical position of the tap.\n   */\n\n\n  async tap(x, y) {\n    const touchPoints = [{\n      x: Math.round(x),\n      y: Math.round(y)\n    }];\n    await this._client.send('Input.dispatchTouchEvent', {\n      type: 'touchStart',\n      touchPoints,\n      modifiers: this._keyboard._modifiers\n    });\n    await this._client.send('Input.dispatchTouchEvent', {\n      type: 'touchEnd',\n      touchPoints: [],\n      modifiers: this._keyboard._modifiers\n    });\n  }\n\n}\n\nexports.Touchscreen = Touchscreen;","map":{"version":3,"mappings":"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","names":["Keyboard","constructor","client","Set","_client","down","key","options","text","undefined","description","_keyDescriptionForString","autoRepeat","_pressedKeys","has","code","add","_modifiers","_modifierBit","send","type","modifiers","windowsVirtualKeyCode","keyCode","unmodifiedText","location","isKeypad","keyString","shift","definition","USKeyboardLayout_js_1","shiftKey","shiftKeyCode","length","shiftText","up","delete","sendCharacter","char","charIsKey","delay","press","Promise","f","setTimeout","exports","Mouse","keyboard","_keyboard","move","x","y","steps","fromX","_x","fromY","_y","i","button","_button","click","clickCount","wheel","deltaX","deltaY","pointerType","drag","start","target","promise","resolve","once","event","data","dragEnter","dragOver","drop","dragAndDrop","Touchscreen","tap","touchPoints","Math","round"],"sources":["../../../../src/common/Input.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}