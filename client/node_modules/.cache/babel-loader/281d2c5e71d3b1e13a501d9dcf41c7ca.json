{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EmulationManager = void 0;\n\nclass EmulationManager {\n  constructor(client) {\n    this._emulatingMobile = false;\n    this._hasTouch = false;\n    this._client = client;\n  }\n\n  async emulateViewport(viewport) {\n    const mobile = viewport.isMobile || false;\n    const width = viewport.width;\n    const height = viewport.height;\n    const deviceScaleFactor = viewport.deviceScaleFactor || 1;\n    const screenOrientation = viewport.isLandscape ? {\n      angle: 90,\n      type: 'landscapePrimary'\n    } : {\n      angle: 0,\n      type: 'portraitPrimary'\n    };\n    const hasTouch = viewport.hasTouch || false;\n    await Promise.all([this._client.send('Emulation.setDeviceMetricsOverride', {\n      mobile,\n      width,\n      height,\n      deviceScaleFactor,\n      screenOrientation\n    }), this._client.send('Emulation.setTouchEmulationEnabled', {\n      enabled: hasTouch\n    })]);\n    const reloadNeeded = this._emulatingMobile !== mobile || this._hasTouch !== hasTouch;\n    this._emulatingMobile = mobile;\n    this._hasTouch = hasTouch;\n    return reloadNeeded;\n  }\n\n}\n\nexports.EmulationManager = EmulationManager;","map":{"version":3,"mappings":";;;;;;;AAmBA,MAAaA,gBAAb,CAA6B;AAK3BC,cAAYC,MAAZ,EAA8B;AAH9B,4BAAmB,KAAnB;AACA,qBAAY,KAAZ;AAGE,SAAKC,OAAL,GAAeD,MAAf;AACD;;AAEoB,QAAfE,eAAe,CAACC,QAAD,EAAmB;AACtC,UAAMC,MAAM,GAAGD,QAAQ,CAACE,QAAT,IAAqB,KAApC;AACA,UAAMC,KAAK,GAAGH,QAAQ,CAACG,KAAvB;AACA,UAAMC,MAAM,GAAGJ,QAAQ,CAACI,MAAxB;AACA,UAAMC,iBAAiB,GAAGL,QAAQ,CAACK,iBAAT,IAA8B,CAAxD;AACA,UAAMC,iBAAiB,GACrBN,QAAQ,CAACO,WAAT,GACI;AAAEC,WAAK,EAAE,EAAT;AAAaC,UAAI,EAAE;AAAnB,KADJ,GAEI;AAAED,WAAK,EAAE,CAAT;AAAYC,UAAI,EAAE;AAAlB,KAHN;AAIA,UAAMC,QAAQ,GAAGV,QAAQ,CAACU,QAAT,IAAqB,KAAtC;AAEA,UAAMC,OAAO,CAACC,GAAR,CAAY,CAChB,KAAKd,OAAL,CAAae,IAAb,CAAkB,oCAAlB,EAAwD;AACtDZ,YADsD;AAEtDE,WAFsD;AAGtDC,YAHsD;AAItDC,uBAJsD;AAKtDC;AALsD,KAAxD,CADgB,EAQhB,KAAKR,OAAL,CAAae,IAAb,CAAkB,oCAAlB,EAAwD;AACtDC,aAAO,EAAEJ;AAD6C,KAAxD,CARgB,CAAZ,CAAN;AAaA,UAAMK,YAAY,GAChB,KAAKC,gBAAL,KAA0Bf,MAA1B,IAAoC,KAAKgB,SAAL,KAAmBP,QADzD;AAEA,SAAKM,gBAAL,GAAwBf,MAAxB;AACA,SAAKgB,SAAL,GAAiBP,QAAjB;AACA,WAAOK,YAAP;AACD;;AAtC0B;;AAA7BG","names":["EmulationManager","constructor","client","_client","emulateViewport","viewport","mobile","isMobile","width","height","deviceScaleFactor","screenOrientation","isLandscape","angle","type","hasTouch","Promise","all","send","enabled","reloadNeeded","_emulatingMobile","_hasTouch","exports"],"sources":["../../../../src/common/EmulationManager.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}